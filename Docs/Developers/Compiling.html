<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Compiling.html</title>
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
</head>
<body>
<h2>Compiling Frhed</h2>

<h3>Table of Contents</h3>
<ol>
  <li><a href="#GettingSources">Getting Sources</a></li>
  <li><a href="#Environment">Environment</a></li>
  <li><a href="#ProjectFiles">Project Files</a></li>
  <li><a href="#Compiling">Compiling</a></li>
  <li><a href="#VS2005">Visual Studio 2005 & 2008 Manifest Files</a>
 </ol>

<h3><a name="GettingSources">Getting Sources</a></h3>
<p>
Frhed is always released with sources. Sources are not (anymore) in the same
binary package. Sources are in own package, named <code>Frhed-<i>version</i>-src.zip</code>.
Links to latest releases are in <a href="http://frhed.sourceforge.net/">
Frhed homepage</a>. Direct link to SourceForge.net downloads: <a href=
"https://sourceforge.net/project/showfiles.php?group_id=236485">Frhed downloads</a>.
</p>

<p>The latest codes are available from Frhed Subversion repository. Instructions
for accessing Frhed Subversion repository can be fround
<a href="https://sourceforge.net/svn/?group_id=236485">here</a>. In short,
checkout from url <a href="https://frhed.svn.sourceforge.net/svnroot/frhed/trunk">
https://frhed.svn.sourceforge.net/svnroot/frhed/trunk</a>. 
</p>

<h3><a name="Environment">Environment</a></h3>
<h4>Supported Compilers</h4>
<ul>
  <li>Visual Studio 6 + Service Pack 6</li>
  <li>Visual Studio 2003.Net + Service Pack 1 (Used for releases)</li>
  <li>Visual Studio 2005 (Service Pack 1 recommended)</li>
  <li>Visual Studio 2008 (Service Pack 1 recommended)</li>
  <li>Visual Studio C++ 2008 Express Edition</li>
</ul>

<p><b>Visual Studio c++ 2008 Express Edition</b> is a free compiler available
from <a href="http://www.microsoft.com/Express/">http://www.microsoft.com/Express/</a>.
You don't need to buy commercial Visual Studio edition for compiling Frhed.</p>

<h4>Needed libraries</h4>
<p>Platform SDK (PSDK) or Windows SDK is needed for compiling.
<ol>
  <li>For VS 6 the Platform SDK February 2003 is recommended, later ones might
   not work properly. <a href="http://www.microsoft.com/msdownload/platformsdk/sdkupdate/psdk-full.htm">
   Download and install</a>.</li>
  <li>For VS2003.Net and later</strong>: Platform SDK Windows 2003 SP1 or later
    is recommended. <a href="http://www.microsoft.com/downloads/details.aspx?familyid=0BAF2B35-C656-4969-ACE8-E4C0C0716ADB">
    Download and install</a>.</li>
</ol>
</p>

Frhed uses <code>htmlhelp</code> library to show HTML help files in help viewer.
The HtmlHelp library is available as a part of <i>HTML Help Workshop</i> and as
part of <i>Platform SDK</i> (PSDK).</p>

<p>For VS 6 it is recommended to install HTML Help Workshop. It can be downloaded
from Microsoft: <a href="http://www.microsoft.com/downloads/details.aspx?familyid=00535334-c8a6-452f-9aa0-d597d16580cc&displaylang=en">
HTML Help Workshop</a>. After installing HTML Help Workshop you must add its
<code>include</code> and <code>lib</code> -folders to Visual Studio settings as
additional include- and library-file folders.</p>

<h3><a name="ProjectFiles">Project Files</a></h3>
<p>The sources contain solution and project files for Visual Studio 6. But later
Visual Studio versions convert those files to new format.</p>

<p>Frhed consist of three projects:
<ul>
  <li>Frhed - the main project</li>
  <li>heksedit - the editor window project (embeddable into other apps)</li>
  <li>rawio32 - I/O utility project</li>
</ul>

The dependencies are such that:
<ul>
  <li><code>Frhed</code> project uses <code>heksedit</code> editor component.</li>
  <li><code>heksedit</code> project uses <code>rawio32</code> project.</li>
</ul>
</p>

<h3><a name="Compiling">Compile</a></h3>
<p>To compile Frhed:
<ul>
  <li>Open <code>FRHED.dsw</code> solution file to Visual Studio</li>
  <li>Select the <code>frhed</code> project as a startup project</li>
  <li>Select <code>Rebuild all</code> to compile
</ul>
</p>

<h3><a name="VS2005">Visual Studio 2005 & 2008 Manifest Files</a></h3>
<p>When the VC6 project file (.dsp) or VS2003 project file (.vcproj) is
converted to a Visual Studio 2005 or 2008 project, the visual styles do not get
enabled. The problem is Visual Studio 2005 and 2008 automatically generate and
embed a manifest file for the executable, but that generated manifest file does
not include all needed properties to enable visual styles. The solution is to
add WinMerge's manifest file as an additional manifest.</p>

<p>From project properties, set<br>
  <code>Manifest Tool / Input and Output / Additional Manifest Files</code>
   -property value to:<br>
  <code>$(InputDir)\res\Frhed.exe.manifest</code><br>
  More general form of:<br>
  <code>$(InputDir)\res\$(TargetFileName).manifest</code><br>
  should work too but currently it does not for some reason.
</p>

<p>See also <a href="http://forums.microsoft.com/MSDN/ShowPost.aspx?PostID=143306&SiteID=1">
Manifests in VS2005-- What are they?</a> -thread in Microsoft forum.
</p>

</body>
</html>
