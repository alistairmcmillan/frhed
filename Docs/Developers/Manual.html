<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Manual.html</title>
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
</head>
<body>
<h2>Building Frhed Manual</h2>

<h3>Table of Contents</h3>
<ol>
  <li><a href="#Tools">Tools</a></li>
  <li><a href="#Files">Files</a></li>
  <li><a href="#Building">Building</a></li>
  <li><a href="#DocbookManual">New Docbook Manual</a></li>
 </ol>

<h3><a name="Tools">Tools</a></h3>
<p>
To build the manual (CHM) file, you'll need:
<ul>
  <li>Python - <a href="http://www.python.org/">http://www.python.org/</a></li>
  <li>pydocgen - a Python script to generate documentation from HTML file,
    included in the project. pydocgen <a href="http://www.p-nand-q.com/python/pydocgen.html">
	homepage</a></li>
  <li>HTML Help Workshop - part of the Platform SDK</li>
</ul>
</p>

<h3><a name="Files">Files</a></h3>
<p>
Manual files are in <code>HELP</code> -subfolder. Important files are:
<ul>
  <li><code>frhed.htm</code> - manual source file in HTML format</li>
  <li><code>frhed.cfg</code> - pydocgen configuration file</li>
  <li><code>pydocgen.py</code> - pydocgen script</li>
  <li><code>htmlhelpgen.py</code> - part of pydocgen script</li>
</ul>
</p>

<h3><a name="Building">Building</a></h3>
<p>
The manual is build in two phases:
<ol>
  <li>HTML help project and sources are created from HTML sources.</li>
  <li>HTML help project is compiled into HTML help file (<code>.chm</code>)
</ol>
</p>

<p> 
The first phase is done by running <code>pydocgen</code> script from the command
line:<br>
<code>python pydocgen.py frhed.cfg</code><br>
This creates HTML help project into <code>/BuildTmp/help</code> -folder. After
running the script you need to copy all the image and CSS files from
<code>/HELP</code> folder to the <code>/BuildTmp/help</code> -folder.
</p>

<p>
The second phase is done by starting HTML Help Workshop and opening
<code>/BuildTmp/help/frhed.hhp</code> file into it. Then just compile the file.
</p>

<h4>Using the batch file</h4>
<p>There is a <code>build.bat</code> batch file which takes care of all phases
in building the manual. The patch file requires that Help Compiler
(<code>hhc.exe</code>) and Python are found from PATH.
</p>

<p>To add <code>hhc.exe</code> to the PATH you can add Platform SDK / Help
Workshop folder to your PATH. Or you can <code>vcvars32.bat</code> batch file
from Visual Studio binary folder to setup Visual Studio paths. Opening
Visual Studio Command Prompt runs this batch automatically.</p>

<p>After the batch file finishes, the <code>frhed.chm</code> help file is in
<code>/Build/help</code> folder.</p>

<h3><a name="DocbookManual">New Docbook Manual</a></h3>
<p>The new Docbook based manual is in works. Basically we are converting current
manual which is one big HTML file to several smaller Docbook files. From
DocBook we can later generate both HTML manual (for the Web) and the CHM
manual for the local installation.</p>

<p>New manual's files are in folder <code>Docs/Users/Manual/</code>. 
</p>

<h3><a name="ownbuildsystem">Our manual build system is based on Java and Saxon</a></h3>
<p>Our manual build system uses the following tools:</p>
<ul>
  <li><a href="http://www.java.com/getjava/">Java Runtime Environment</a></li>
  <li><a href="http://saxon.sourceforge.net/">Saxon</a></li>
  <li><a href="http://www.docbook.org/xml/">DocBook DTD</a></li>
  <li><a href="http://sourceforge.net/project/showfiles.php?group_id=21935&amp;package_id=16608">XSL StyleSheets</a></li>
  <li><a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/htmlhelp/html/hwMicrosoftHTMLHelpDownloads.asp">HTML Help Compiler</a></li>
</ul>
<p>There is a useful tool package created for WinMerge for building the manual.
The same tool package can be used for Frhed too. Download the tool package
from  <a href="http://sourceforge.net/project/showfiles.php?group_id=13216&amp;package_id=284332&amp;release_id=614099">
our manual build tools package v1</a> (it includes all required tools except
of <a href="http://www.java.com/getjava/">Java</a>) and unzip it to the
<code>build</code> subdirectory at the <code>Manual</code> directory.</p>

<p>The batch files are also located at the <code>build</code> subdirectory at the <code>Manual</code> directory.
The main file ist <code>build.bat</code>. Paths to the installed tools are written in the <code>configuration.bat</code> file.</p>
<dl>
  <dt><code>build.bat html</code> or <code>build_html.bat</code></dt>
  <dd>Creates the HTML files under the <code>html</code> subdirectory at the <code>build</code> directory.</dd>
  <dt><code>build.bat htmlhelp</code> or <br> <code>build_htmlhelp.bat</code></dt>
  <dd>Creates the CHM file under the <code>htmlhelp</code> subdirectory at the <code>build</code> directory.</dd>
  <dt><code>build.bat</code></dt>
  <dd>Is the same like <code>build.bat html</code>.</dd>
</dl>

</body>
</html>